!function(api){var $=api.$;window.constructor=function(){var constructor,system={};return constructor={},constructor.container=ko.observable(),constructor.settings={},constructor.widgets=function(){var list,models;return models={},models.widget=function(){var model;return model=function(data){var widget=this,code;widget.name=ko.computed(function(){return data.name}),widget.author=ko.computed(function(){return data.author}),widget.id=ko.computed(function(){return data.id}),widget.code=ko.computed(function(){return widget.author()+":"+widget.id()}),widget.icon=ko.computed(function(){return data.icon}),widget.handle=function(e,t,n,r){try{code.call(e,t,n,r)}catch(o){console.error('Error when build "'+widget.code()+'" widget.'),console.error(o)}},widget.templates=function(){var e;return e=ko.observableArray([]),e.add=function(t){var n;return t=api.isObject(t)?t:{},n=new models.template(widget,t),e.push(n),n},e.get=function(t){return e.findOne(function(e,n){return n.code()===t?!0:void 0})},e}(),api.each(data.templates,function(e,t){widget.templates.add(t)}),code=eval("(function (model, data, stage, code) {"+data.model+"})")}}(),models.template=function(){var model,code;return model=function(widget,data){var template=this;template.widget=ko.computed(function(){return widget}),template.code=ko.computed(function(){return data.code}),template.view=ko.computed(function(){return data.view}),template.settings=ko.computed(function(){return data.settings}),template.handle=function(e,t,n,r){try{code.call(e,t,n,r)}catch(o){console.error('Error when build template "'+template.code()+'" of widget "'+widget.code()+'".'),console.error(o)}},code=eval("(function (model, data, stage, code) {"+data.model+"})")}}(),list=ko.observableArray([]),list.add=function(e){var t;return e=api.isObject(e)?e:{},t=new models.widget(e),list.push(t),t},list.get=function(e){return list.findOne(function(t,n){return n.code()===e?!0:void 0})},list}(),constructor.load=function(e){var t;return api.each(e.widgets,function(e,t){constructor.widgets.add(t)}),t=api.isObject(e.container)?new constructor.models.container(e.container):new constructor.models.container({type:"absolute",properties:{height:{value:100,measure:"%"},grid:{type:"adaptive"}}}),constructor.container(t),constructor.settings=new constructor.models.settings(e.settings),constructor},constructor.save=function(){var e;return e={},e.container=constructor.container().save(),e.settings=constructor.settings.save(),this.trigger("save",this,e),e},constructor.utils=function(){var e;return e={},e.properties={},e.properties.build=function(t){var n={};return api.each(t,function(t,r){if(constructor.models.property.custom.is(r))n[t]=r.save();else if(ko.isObservable(r)&&!ko.isComputed(r))n[t]=r();else if(api.isObject(r)){var o=e.properties.build(r);api.isEmpty(o)||(n[t]=o)}}),n},e.properties.parse=function(e,t){var n=function(e,t){api.isObject(e)&&api.each(t,function(t,r){constructor.models.property.custom.is(r)?api.isUndefined(e[t])||r.load(e[t]):ko.isObservable(r)&&!ko.isComputed(r)?api.isUndefined(e[t])||r(e[t]):api.isObject(r)&&api.isObject(e[t])&&n(e[t],r)})};n(e,t)},e}(),system=function(){var e;return e={},e.models=function(){var e;return e={},e.locker=function(){var e=this,t=!1;e.lock=function(){t=!0},e.unlock=function(){t=!1},e.isLocked=function(){return t},e.operation=function(t){var n;if(!e.isLocked()&&api.isFunction(t))return e.lock(),n=t(),e.unlock(),n}},e}(),e}(),constructor.models=function(){var e={};return e.settings=function(){var t;return t=function(n){var r=this;n=api.isObject(n)?n:{},t.trigger("create",r,n),r.text=new e.settings.text(n.text),t.trigger("created",r,n)},t.prototype.save=function(){var e;return e=constructor.utils.properties.build(this),t.trigger("save",this,e),e},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e.settings.text=function(){var t;return t=function(n){var r=this;n=api.isObject(n)?n:{},t.trigger("create",r,n),r.color=ko.observable(n.color),r.uppercase=ko.observable(n.uppercase),api.each(["size","lineHeight","letterSpacing"],function(t,o){var i,a;i=new e.property.measured(null,null,["px","pt","%","em"]),i.value.type(api.type["float"],!0),a=n[o],api.isObject(n[o])&&(i.value(a.value),i.measure(a.measure)),r[o]=i}),t.trigger("created",r,n)},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e.property={},e.property.measured=function(){var e;return e=function(t,n,r){var o=this;r=api.isArray(r)?r:[],e.trigger("create",o,t,n,r),r=ko.observableArray(r?r:[]),o.value=ko.observable(t),o.measure=ko.observable(),o.measure.filter(function(e){r.indexOf(e)<0&&this(null)}),o.measure.subscribe(function(){o.value.valueHasMutated()}),o.measure(n),o.summary=ko.computed(function(){return api.isDeclared(o.value())?o.value()+o.measure():null}),o.measures=ko.computed(function(){return r()}),e.trigger("created",o,t,n,r)},e.is=function(t){return t instanceof e},api.extend(e,api.ext.events(constructor)),e}(),e.property.enumerable=function(){var e;return e=function(t,n,r){var o=this;r=api.toBoolean(r),n=api.isArray(n)?n:[],e.trigger("create",o,t,n,r),n=ko.observableArray(n?n:[]),o.value=ko.observable(),o.value.subscribe(function(e){null===e?r||n().length>0&&o.value(n()[0]):n.has(e)||o.value(null)}),o.values=ko.computed(function(){return n()}),o.isNull=ko.computed(function(){return r}),o.value(t),e.trigger("created",o,t,n,r)},e.is=function(t){return t instanceof e},api.extend(e,api.ext.events(constructor)),e}(),e.property.custom=function(){var e;return e=function(t){var n,r=this;e.trigger("create",r),n=function(e){var n=Array.prototype.slice.call(arguments,1);return api.isFunction(t[e])?t[e].apply(this,n):void 0},r.value=n("create"),r.save=function(){return n("save")},r.load=function(e){n("load",e)},e.trigger("created",r)},e.is=function(t){return t instanceof e},api.extend(e,api.ext.events(constructor)),e}(),e.container=function(){var t,n={parent:new system.models.locker,element:new system.models.locker,containers:new system.models.locker};return t=function(r){var o=this;r=api.isObject(r)?r:{},t.trigger("create",o,r,n),o.id=ko.observable(r.id),o.type=ko.observable(r.type),o.display=ko.observable(r.display),o.order=ko.observable(r.order),o.order.subscribe(function(){o.hasParent()&&o.getParent().containers.order()}),r.condition=api.isObject(r.condition)?r.condition:{},r.condition.type="group",o.condition=new e.condition(r.condition),o.script=ko.observable(r.script),o.parent=function(e){var n;return n=ko.observable(null),n.subscribe(function(n){t.is(n)&&e.operation(function(){n.removeContainer(o)})},null,"beforeChange"),n.subscribe(function(n){t.is(n)&&e.operation(function(){n.addContainer(o)})}),n}(n.parent),o.element=function(t){var n;return n=ko.observable(null),n.subscribe(function(n){(e.component.is(n)||e.widget.is(n))&&t.operation(function(){n.setParent(null)})},null,"beforeChange"),n.subscribe(function(n){(e.component.is(n)||e.widget.is(n))&&t.operation(function(){n.setParent(o)})}),n}(n.element),o.containers=function(e){var n;return n=ko.observableArray([]),n.subscribe(function(r){api.each(r,function(n,r){"added"===r.status&&t.is(r.value)&&e.operation(function(){r.value.setParent(o)}),"deleted"===r.status&&t.is(r.value)&&e.operation(function(){r.value.setParent(null)})}),n.order()},null,"arrayChange"),n.order=function(){e.operation(function(){n.sort(function(e,t){return e.order()==t.order()?0:e.order()<t.order()?-1:1}),api.each(n(),function(e,t){t.order(e)}),n.valueHasMutated()})},n}(n.containers),o.properties=function(){var t,n=["top","right","bottom","left"],r=["width","height"],i=["x","y"];return t={},t.position=ko.computed(function(){switch(o.getParentType()){case"absolute":return"absolute";case"gridded":return"absolute";default:return"relative"}}),t.id=ko.observable(),t["class"]=ko.observable(""),t["float"]=ko.observable(),t.text=new e.settings.text,function(){var o=["px","%"],i={},a={};api.each(n,function(n,r){var i;i=new e.property.measured(null,null,o),i.value.type(api.type["float"],!0),i.bind=ko.computed(function(){return!api.isNull(i.value())}),i["switch"]=function(){this.value(null!=this.value()?null:0)},t[r]=i}),api.each(r,function(n,r){t[r]=new e.property.measured(null,null,o),t[r].value.type(api.type["float"],!0),t[r].min=new e.property.measured(null,null,o),t[r].min.value.type(api.type["float"],!0),t[r].max=new e.property.measured(null,null,o),t[r].max.value.type(api.type["float"],!0)}),i.horizontal=ko.computed(function(){return t.left.bind()&&t.right.bind()}),i.vertical=ko.computed(function(){return t.top.bind()&&t.bottom.bind()}),a.horizontal=function(){i.horizontal()&&t.height.value(null)},a.vertical=function(){i.vertical()&&t.width.value(null)},t.top.value.subscribe(a.vertical),t.right.value.subscribe(a.horizontal),t.bottom.value.subscribe(a.vertical),t.left.value.subscribe(a.horizontal),t.width.value.subscribe(function(e){!api.isNull(e)&&i.horizontal()&&t.width.value(null)}),t.height.value.subscribe(function(e){!api.isNull(e)&&i.vertical()&&t.height.value(null)}),t.bind=i}(),t.margin=function(){var t,r=["px","%"];return t=new e.property.measured(null,null,r),t.value.type(api.type["float"],!0),t.isAuto=ko.observable(0),t.calculated=ko.computed(function(){return t.isAuto()?"auto":t.summary()}),api.each(n,function(n,o){var i;i=new e.property.measured(null,null,r),i.value.type(api.type["float"],!0),i.isAuto=ko.observable(0),i.calculated=ko.computed(function(){var e=i.summary();return i.isAuto()?"auto":(api.isNull(e)&&(e=t.calculated()),e)}),t[o]=i}),t}(),t.padding=function(){var t,r=["px","%"];return t=new e.property.measured(null,null,r),t.value.type(api.type["float"],!0),api.each(n,function(n,o){var i;i=new e.property.measured(null,null,r),i.value.type(api.type["float"],!0),i.calculated=ko.computed(function(){var e=i.summary();return api.isNull(e)&&(e=t.summary()),e}),t[o]=i}),t}(),t.grid=function(){var e;return e={},e.correct={},api.each(r,function(t,n){e.correct[n]=ko.observable(1)}),e.type=ko.observable("none"),e.x=ko.observable(12),e.x.type(api.type.integer,!1),e.y=ko.observable(12),e.y.type(api.type.integer,!1),e.width=ko.observable(24),e.width.type(api.type.integer,!1),e.height=ko.observable(24),e.height.type(api.type.integer,!1),e}(),t.background=function(){var t,n=["px","cm","em","%"],r=function(e,t){var n=e.summary(),r=t.summary();return api.isNull(n)&&api.isNull(r)?null:(api.isNull(n)&&(n=0),api.isNull(r)&&(r=0),n.toString()+" "+r.toString())};return t={},t.color=ko.observable(),t.image={},t.image.url=ko.observable(),t.repeat=ko.observable(),t.size=function(){var t;return t={},t.type=ko.observable(),t.width=new e.property.measured(null,null,n),t.width.value.type(api.type["float"],!0),t.height=new e.property.measured(null,null,n),t.height.value.type(api.type["float"],!0),t.calculated=ko.computed(function(){return r(t.width,t.height)}),t}(),t.position=function(){var t;return t={},t.top=new e.property.measured(null,null,n),t.top.value.type(api.type["float"],!0),t.left=new e.property.measured(null,null,n),t.left.value.type(api.type["float"],!0),t.calculated=ko.computed(function(){return r(t.left,t.top)}),t}(),t}(),t.border=function(){var t;return t={},t.style=ko.observable(),t.color=ko.observable(),t.width=new e.property.measured(null,null,["px","em","cm"]),t.width.value.type(api.type["float"],!0),t.radius=new constructor.models.property.measured(null,null,["px","%"]),t.radius.value.type(api.type["float"],!0),api.each(n,function(n,r){var o;o={},o.style={},o.style.value=ko.observable(),o.style.calculated=ko.computed(function(){var e=o.style.value();return api.isEmpty(e)&&(e=t.style()),e}),o.color={},o.color.value=ko.observable(),o.color.calculated=ko.computed(function(){var e=o.color.value();return api.isEmpty(e)&&(e=t.color()),e}),o.width=new e.property.measured(null,null,["px","em","cm"]),o.width.value.type(api.type["float"],!0),o.width.calculated=ko.computed(function(){var e=o.style.calculated(),n=o.width.summary();return(api.isEmpty(e)||"none"===e)&&(n=0),api.isNull(n)&&(n=t.width.summary()),n}),o.radius=new e.property.measured(null,null,["px","%"]),o.radius.value.type(api.type["float"],!0),o.radius.calculated=ko.computed(function(){var e=o.radius.summary();return api.isNull(e)&&(e=t.radius.summary()),e}),t[r]=o}),t}(),t.overflow=function(){var e;return e={},e.value=ko.observable(),api.each(i,function(t,n){var r;r={},r.value=ko.observable(),r.calculated=ko.computed(function(){var t=r.value();return api.isEmpty(t)&&(t=e.value()),t}),e[n]=r}),e}(),t.opacity=ko.observable(),t.opacity.type(api.type["float"],!0),t}(),t.trigger("init",o,r,n),api.isObject(r.component)?o.element(new e.component(r.component)):api.isObject(r.widget)?o.element(new e.widget(r.widget)):api.each(r.containers,function(e,t){o.addContainer(new constructor.models.container(t))}),o.setProperties(r.properties),t.trigger("created",o,r,n)},t.prototype.setParent=function(e){this.parent(e)},t.prototype.getParent=function(){return this.parent()},t.prototype.getParentType=function(){return this.hasParent()?this.getParent().type():null},t.prototype.hasParent=function(){return t.is(this.parent())},t.prototype.remove=function(){return this.hasParent()?(this.getParent().removeContainer(this),t.trigger("remove",this),!0):!1},t.prototype.copy=function(){var e,n=function(e){e.id(null),e.hasComponent()&&e.getComponent().id(null),e.hasWidget()&&e.getWidget().id(null),e.hasContainers()&&api.each(e.getChildren(),function(e,t){n(t)})};return e=new t(this.save()),e.order(e.order()+.5),n(e),this.getParent().addContainer(e),e},t.prototype.save=function(){var e;return e={},e.id=this.id(),e.type=this.type(),e.display=this.display(),e.order=this.order(),e.condition=this.condition.save(),e.script=this.script(),e.properties=this.getProperties(),e.component=null,e.widget=null,e.containers=[],this.hasComponent()?e.component=this.getComponent().save():this.hasWidget()?e.widget=this.getWidget().save():api.each(this.containers(),function(t,n){e.containers.push(n.save())}),t.trigger("save",this,e),e},t.prototype.setComponent=function(e){this.element(e)},t.prototype.getComponent=function(){return this.hasComponent()?this.element():null},t.prototype.hasComponent=function(t){return e.component.is(t)?this.element()===t:e.component.is(this.element())},t.prototype.hasEmptyComponent=function(){return this.hasComponent()?api.isEmpty(this.getComponent().code()):!0},t.prototype.setWidget=function(e){this.element(e)},t.prototype.getWidget=function(){return this.hasWidget()?this.element():null},t.prototype.hasWidget=function(t){return e.widget.is(t)?this.element()===t:e.widget.is(this.element())},t.prototype.setElement=function(e){this.element(e)},t.prototype.getElement=function(){return this.element()},t.prototype.hasElement=function(e){return api.isObject(e)?this.element()===e:api.isObject(this.element())},t.prototype.getContainers=function(e){if(!api.isFunction(e))return this.containers();var t=this,n=[];return api.each(t.containers(),function(r,o){e.call(t,r,o)===!0&&n.push(o)}),n},t.prototype.getContainer=function(e){if(api.isFunction(e)){var t=this,n=null;return api.each(t.containers(),function(r,o){return e.call(t,r,o)===!0?(n=o,!1):void 0}),n}},t.prototype.hasContainers=function(){return this.containers().length>0},t.prototype.hasContainer=function(e){return this.containers.indexOf(e)>=0},t.prototype.addContainer=function(e){return t.is(e)?this.hasComponent()?!1:this.hasContainer(e)?!0:(this.containers.push(e),!0):!1},t.prototype.removeContainer=function(e){return t.is(e)&&this.hasContainer(e)?(this.containers.remove(e),!0):!1},t.prototype.getProperties=function(){return constructor.utils.properties.build(this.properties)},t.prototype.setProperties=function(e){constructor.utils.properties.parse(e,this.properties)},t.prototype.layerUp=function(){this.hasParent()&&this.order(this.order()-1.5)},t.prototype.layerDown=function(){this.hasParent()&&this.order(this.order()+1.5)},t.prototype.getChildren=function(){var e=function(t){var n=[];return api.each(t.containers(),function(t,r){n.push(r),r.hasContainers()&&(n=n.concat(e(r)))}),n};return e(this)},t.prototype.level=function(){return this.hasParent()?this.getParent().level():0},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e.condition=function(){var t,n={parent:new system.models.locker,conditions:new system.models.locker};return t=function(r){var o=this,i=r.type;api.extend(o,api.ext.events(o)),r=api.isObject(r)?r:{},t.trigger("create",o,r,n),o.type=ko.computed(function(){return i}),o.result=ko.observable(r.result),o.parent=function(t){var n;return n=ko.observable(null),n.subscribe(function(n){e.container.is(n)&&t.operation(function(){n.removeCondition(o)})},null,"beforeChange"),n.subscribe(function(n){e.container.is(n)&&t.operation(function(){n.addCondition(o)})}),n(r.parent||null),n}(n.parent),o.level=ko.computed(function(){return o.hasParent()?o.parent().level()+1:0}),"group"===i?(o.operator=ko.observable(r.operator),o.conditions=function(e){var n;return n=ko.observableArray([]),n.subscribe(function(n){api.each(n,function(n,r){"added"===r.status&&t.is(r.value)&&e.operation(function(){r.value.setParent(o)}),"deleted"===r.status&&t.is(r.value)&&e.operation(function(){r.value.setParent(null)})})},null,"arrayChange"),n}(n.conditions),t.trigger("init",o,r,n),api.each(r.conditions,function(e,n){o.addCondition(new t(n))})):("path"===i||"match"===i||"expression"===i||"parameter.get"===i||"parameter.page"===i||"parameter.template"===i)&&(o.value=ko.observable(r.value),"match"===i?o.match=ko.observable(r.match):("parameter.get"===i||"parameter.page"===i||"parameter.template"===i)&&(o.key=ko.observable(r.key),("parameter.page"===i||"parameter.template"===i)&&(o.logic=ko.observable(r.logic)))),t.trigger("created",o,r,n)},t.prototype.remove=function(){if(!this.hasParent())return!1;var e=this.getParent();for(e.removeCondition(this);e.hasParent();)e=e.getParent();return e.trigger("updateConditions"),!0},t.prototype.setParent=function(e){this.parent(e)},t.prototype.getParent=function(){return this.parent()},t.prototype.hasParent=function(){return t.is(this.parent())},t.prototype.hasConditions=function(){return"group"===this.type()?this.conditions().length>0:!1},t.prototype.hasCondition=function(e){return this.hasConditions()&&this.conditions.indexOf(e)>=0},t.prototype.addCondition=function(e){return"group"!==this.type()?!1:t.is(e)?this.hasCondition(e)?!0:(this.conditions.push(e),this.trigger("add"),!0):!1},t.prototype.removeCondition=function(e){return"group"!==this.type()?!1:t.is(e)&&this.hasCondition(e)?(this.conditions.remove(e),!0):!1},t.prototype.save=function(){var e=this,n={};return n.type=e.type(),n.result=e.result(),"group"===n.type?(n.operator=e.operator(),n.conditions=[],api.each(e.conditions(),function(e,t){n.conditions.push(t.save())})):("path"===n.type||"match"===n.type||"expression"===n.type||"parameter.get"===n.type||"parameter.page"===n.type||"parameter.template"===n.type)&&(n.value=e.value(),"match"===n.type?n.match=e.match():("parameter.get"===n.type||"parameter.page"===n.type||"parameter.template"===n.type)&&(n.key=e.key(),("parameter.page"===n.type||"parameter.template"===n.type)&&(n.logic=e.logic()))),t.trigger("save",this,n),n},t.prototype.getConditionGroups=function(e,t){var n=this;if("group"==n.type())return(api.isEmpty(e)||!api.isArray(e))&&(e=[]),api.isEmpty(t)&&(t=-1),e.push({model:n,index:t}),api.each(n.conditions(),function(t,n){n.getConditionGroups(e,t)}),e},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e.component=function(){var t,n={parent:new system.models.locker};return t=function(r){var o=this;r=api.isObject(r)?r:{},t.trigger("create",o,r),o.id=ko.observable(r.id),o.code=ko.observable(r.code),o.template=ko.observable(r.template),o.view=ko.observable(r.view),o.properties=r.properties||{},o.parent=function(){var t;return t=ko.observable(null),t.subscribe(function(t){e.container.is(t)&&n.parent.operation(function(){t.setComponent(null)})},null,"beforeChange"),t.subscribe(function(t){e.container.is(t)&&n.parent.operation(function(){t.setComponent(o)})}),t}(),api.each(r.properties,function(e,t){o.properties[e]=t}),t.trigger("created",o,r)},t.prototype.save=function(){var e={};return e.id=this.id(),e.code=this.code(),e.template=this.template(),e.properties=this.properties,t.trigger("save",this,e),e},t.prototype.setParent=function(e){this.parent(e)},t.prototype.getParent=function(){return this.parent()},t.prototype.hasParent=function(){return e.container.is(this.parent())},t.prototype.level=function(){return this.hasParent()?this.getParent().level():0},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e.widget=function(){var t,n=constructor.widgets,r={parent:new system.models.locker};return t=function(o){var i=this;o=api.isObject(o)?o:{},t.trigger("create",i,o,r),i.id=ko.observable(o.id),i.model=ko.computed(function(){return n.get(o.code)}),i.template=ko.observable(null),i.properties=null,i.data=ko.observable(o.data),i.structure=ko.observable(null),i.rebuild=function(e){var t={};api.isObject(e)||(e=i.getProperties()),i.properties={},null!==i.model()&&(i.model().handle(t,i,i.data(),"properties"),null!==i.template()&&i.template().handle(t,i,i.data(),"properties")),i.setProperties(e),null!==i.model()&&(i.model().handle(t,i,i.data(),null),null!==i.template()&&i.template().handle(t,i,i.data(),null)),i.structure(t)},i.views={},i.views.template=ko.computed(function(){return i.structure(),null!==i.template()?i.template().view():void 0}),i.views.settings=ko.computed(function(){return i.structure(),null!==i.template()?i.template().settings():void 0}),i.parent=function(){var t;return t=ko.observable(null),t.subscribe(function(t){e.container.is(t)&&r.parent.operation(function(){t.setWidget(null)})},null,"beforeChange"),t.subscribe(function(t){e.container.is(t)&&r.parent.operation(function(){t.setWidget(i)})}),t}(),null!==i.model()&&(i.template(i.model().templates.get(o.template)),null===i.template()&&i.template(i.model().templates.get(".default"))),t.trigger("created",i,o,r),i.rebuild(o.properties),i.template.subscribe(function(){i.rebuild()}),i.data.subscribe(function(){i.rebuild()})},t.prototype.save=function(){var e={};return e.id=this.id(),e.code=null,e.template=null,e.properties=this.getProperties(),null!==this.model()&&(e.code=this.model().code(),null!==this.template()&&(e.template=this.template().code())),t.trigger("save",this,e),e},t.prototype.setParent=function(e){this.parent(e)},t.prototype.getParent=function(){return this.parent()},t.prototype.hasParent=function(){return e.container.is(this.parent())},t.prototype.setProperties=function(e){constructor.utils.properties.parse(e,this.properties)},t.prototype.getProperties=function(){return constructor.utils.properties.build(this.properties)},t.prototype.level=function(){return this.hasParent()?this.getParent().level():0},t.is=function(e){return e instanceof t},api.extend(t,api.ext.events(constructor)),t}(),e}(),constructor.isContainer=function(e){return constructor.models.container.is(e)},constructor.isCondition=function(e){return constructor.models.condition.is(e)},constructor.isComponent=function(e){return constructor.models.component.is(e)},constructor.isWidget=function(e){return constructor.models.widget.is(e)},constructor.isPropertyMeasured=function(e){return constructor.models.property.measured.is(e)},constructor.isPropertyCustom=function(e){return constructor.models.property.custom.is(e)},api.extend(constructor,api.ext.events(constructor)),constructor}}(intec);