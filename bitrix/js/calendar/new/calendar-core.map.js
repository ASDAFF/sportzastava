{"version":3,"sources":["calendar-core.js"],"names":["window","Calendar","config","data","additionalParams","this","id","showTasks","calDavConnections","connections","util","BXEventCalendar","Util","isFilterEnabled","search","Search","filterId","counters","sectionController","SectionController","entryController","EntryController","section","Section","currentViewName","getUserOption","requests","currentUser","user","ownerUser","viewRangeDate","Date","keyHandlerEnabled","allowMeetings","build","startupEvent","showStartUpEntry","showNewEventDialog","readOnlyMode","canDo","setTimeout","BX","delegate","getView","showEditSlider","prototype","mainCont","topBlock","create","props","className","viewTitleContainer","appendChild","viewTitle","buildNavigation","viewsCont","bind","proxy","handleViewsClick","dragDrop","DragDrop","buildViews","searchCont","buildSearchControll","buildTopButtons","buildViewSwitcher","rightBlock","document","body","keyUpHandler","addCustomEvent","refresh","applyHacksHandlersForPopupzIndex","views","CalendarDayView","CalendarWeekView","CalendarMonthView","CalendarListView","onCustomEvent","forEach","buildView","viewTransition","ViewTransition","navigationWrap","events","click","showPrevious","text","message","showToday","showNext","style","clear","viewRange","increaseViewRangeDate","triggerEvent","decreaseViewRangeDate","view","adjustViewRangeToDate","viewCont","getContainer","getName","setView","first","viewSwitcherCont","attrs","wrap","e","target","srcElement","getAttribute","viewName","animation","switchNode","name","data-bx-calendar-view","title","params","currentView","getViewRange","newView","getIsBuilt","currentViewDate","getViewRangeDate","newViewDate","getAdjustedDate","date","setViewRangeDate","newViewName","transit","hide","initialViewShow","addClass","removeClass","setUserOption","buildCounters","registerEventHandlers","request","url","getActionUrl","bIter","reqId","Math","round","random","sessid","bitrix_sessid","bx_event_calendar_request","_this","iter","handler","result","handleRes","status","erInd","toLowerCase","indexOf","length","errorText","ind1","ind2","substr","onerror","displayError","res","getRequestResult","top","BXCRES","DoNothing","xhr","type","ajax","post","get","cancelRequest","key","str","bReloadPage","bOnunload","alert","reload","eventName","i","setHours","getDisplayedViewRange","displayedRange","setDisplayedViewRange","specTarget","findTargetNode","parseInt","specialTarget","handleViewsMousedown","disableKeyHandler","enableKeyHandler","KEY_CODES","getKeyCodes","keyCode","deselectEntry","selectedEntry","getSelectedEntry","deleteEntry","countersCont","updateCounters","buttonsCont","sectionButton","html","SectionSlider","calendar","button","userIsOwner","syncButton","syncSlider","SyncSlider","TYPE_ACCESS","settingsButton","SettingsSlider","addButton","AddButton","syncGoogle","reloadGoogle","clearLoadIndexCache","startupEntry","entryObj","Entry","showViewSlider","entry","Core"],"mappings":"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","file":""}